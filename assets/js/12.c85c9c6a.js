(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{554:function(t,s,a){"use strict";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"åœ¨-vue2-é¡¹ç›®ä¸­ä½¿ç”¨-vue-composition-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨-vue2-é¡¹ç›®ä¸­ä½¿ç”¨-vue-composition-api"}},[t._v("#")]),t._v(" åœ¨ Vue2 é¡¹ç›®ä¸­ä½¿ç”¨@vue/composition-api")]),t._v(" "),a("h2",{attrs:{id:"ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-composition-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-composition-api"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ composition-api")]),t._v(" "),a("p",[t._v("å¯èƒ½å¾ˆå¤šäººä¼šé—®ï¼Œä¸ºä»€ä¹ˆä¸€å®šè¦åœ¨"),a("code",[t._v("vue2")]),t._v("ä¸Šä½¿ç”¨"),a("code",[t._v("composition-api")]),t._v("å‘¢ï¼Ÿç›´æ¥æŠŠé¡¹ç›®å‡çº§åˆ°"),a("code",[t._v("vue3")]),t._v("ä¸å°±å¥½äº†å—ï¼Ÿ")]),t._v(" "),a("ol",[a("li",[t._v("ç”Ÿæ€é—®é¢˜ï¼Œè®¸å¤šå¼€æºçš„åº“ç›®å‰æ­£åœ¨é€æ­¥å‡çº§åˆ° vue3")]),t._v(" "),a("li",[t._v("é¡¹ç›®å¦‚æœéå¸¸åºå¤§é‚£ä¹ˆåšèµ·"),a("code",[t._v("vue2")]),t._v(" -> "),a("code",[t._v("vue3")]),t._v("çš„è¿ç§»è¿˜æ˜¯éå¸¸éº»çƒ¦çš„ã€‚")]),t._v(" "),a("li",[t._v("åœ¨"),a("code",[t._v("vue2")]),t._v("ä½¿ç”¨"),a("code",[t._v("composition-api")]),t._v("ä¸ä¼šå½±å“åˆ°ç°æœ‰çš„åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨æœªæ¥å¦‚æœè¦å‡çº§åˆ°"),a("code",[t._v("vue3")]),t._v("é‚£ä¹ˆåªéœ€è¦æŠŠå¼•å…¥çš„åŒ…ä»"),a("code",[t._v("@vue/composition-api")]),t._v("æ”¹ä¸º"),a("code",[t._v("vue")]),t._v("å°±å¯ä»¥äº†")])]),t._v(" "),a("h2",{attrs:{id:"å®‰è£…-vue-composition-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…-vue-composition-api"}},[t._v("#")]),t._v(" å®‰è£…@vue/composition-api")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/vuejs/composition-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vue/composition-api"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" @vue/composition-api\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @vue/composition-api\n")])])]),a("p",[t._v("å…‰ä¸‹è½½å®Œå¯ä¸è¡Œï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠä»–å½“ä½œæ’ä»¶ä¸€æ ·æ¥æ³¨å†Œä»–"),a("code",[t._v("Vue.use()")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" VueCompositionAPI "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vue/composition-api"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VueCompositionAPI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ç„¶ååœ¨"),a("code",[t._v(".vue")]),t._v("ç»„ä»¶é‡Œé¢å¼•å…¥ï¼Œå°±å¯ä»¥ä½¿ç”¨éƒ¨åˆ†"),a("code",[t._v("vue3")]),t._v("çš„åŠŸèƒ½å•¦")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// use the APIs import { ref, reactive } from '@vue/composition-api' // ğŸ’¡ When")]),t._v("\nyou migrate to Vue "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" just replacing "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("@vue/composition-api")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v(" to "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("vue")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v(" and your\ncode should just work"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reactive "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n")])])]),a("h2",{attrs:{id:"typescript-æ”¯æŒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typescript-æ”¯æŒ"}},[t._v("#")]),t._v(" TypeScript æ”¯æŒ")]),t._v(" "),a("p",[t._v("å¯èƒ½æœ‰çš„åŒå­¦ä¼šé—®ï¼Œæˆ‘ç°åœ¨ç”¨çš„"),a("code",[t._v("Vue2")]),t._v("é¡¹ç›®å¼•å…¥äº†"),a("code",[t._v("vue-property-decorator")]),t._v("å’Œ"),a("code",[t._v("vue-class-component")]),t._v("æ¥æ”¯æŒ"),a("code",[t._v("Typescript")]),t._v("çš„å†™æ³•ï¼Œå¦‚æœæˆ‘æ”¹ä¸º"),a("code",[t._v("composition-api")]),t._v("çš„å†™æ³•é‚£æˆ‘å²‚ä¸æ˜¯åˆåªèƒ½å†™"),a("code",[t._v("Javascript")]),t._v("äº†ï¼Ÿä¹‹å‰è¾›è¾›è‹¦è‹¦å­¦çš„"),a("code",[t._v("TypeScript")]),t._v("å²‚ä¸æ˜¯ç™½å­¦äº†ã€‚")]),t._v(" "),a("p",[t._v("æ”¾å¿ƒæœ‹å‹ï¼Œè™½ç„¶"),a("code",[t._v("Vue 2.6")]),t._v("ä»¥å‰çš„ç‰ˆæœ¬"),a("code",[t._v("Vue")]),t._v("æ˜¯ç”¨çš„"),a("code",[t._v("flow")]),t._v("æ¥è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä½†æ˜¯åœ¨"),a("code",[t._v("Vue3")]),t._v("ä»¥åŠ"),a("code",[t._v("Vue conf")]),t._v("ä¸Šæ‰€è¯´çš„åœ¨ Q3 å‘å¸ƒçš„"),a("code",[t._v("Vue2.7")]),t._v("éƒ½æ˜¯ä½¿ç”¨çš„"),a("code",[t._v("TypeScript")]),t._v("æ¥è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæ‰€æœ‰"),a("code",[t._v("composition-api")]),t._v("ä¹Ÿæ˜¯æ”¯æŒ"),a("code",[t._v("TypeScript")]),t._v("çš„")]),t._v(" "),a("p",[t._v("ä½†æ˜¯éœ€è¦"),a("code",[t._v("TypeScript")]),t._v("çš„ç‰ˆæœ¬"),a("code",[t._v(">3.5.1")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineComponent "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/composition-api'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\nåªéœ€è¦æŠŠä»£ç å†™åœ¨defineComponenté‡Œé¢ï¼Œtsçš„é™æ€æ£€æŸ¥å°±ä¼šå·¥ä½œ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// type inference enabled props:{} setup(props,ctx){} data(){}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"æµè§ˆå™¨æ”¯æŒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨æ”¯æŒ"}},[t._v("#")]),t._v(" æµè§ˆå™¨æ”¯æŒ")]),t._v(" "),a("p",[t._v("ä¸"),a("code",[t._v("Vue3")]),t._v("ä¸€æ ·ï¼Œ"),a("code",[t._v("composition-api")]),t._v("æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨ä»¥åŠ IE11+ï¼Œå¦‚æœéœ€è¦æ”¯æŒä½ç‰ˆæœ¬çš„ IE ä½ åº”è¯¥å®‰è£…"),a("code",[t._v("WeakMap")]),t._v("çš„ polyfill ä¾‹å¦‚"),a("code",[t._v("core-js")])]),t._v(" "),a("h2",{attrs:{id:"composition-api-vs-options-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#composition-api-vs-options-api"}},[t._v("#")]),t._v(" composition-api VS options api")]),t._v(" "),a("p",[t._v("â€‹ åƒä¸‹é¢çš„ä»£ç å°±æ˜¯"),a("code",[t._v("Vue2")]),t._v("çš„ options api,å½“æˆ‘ä»¬çš„ä»£ç åˆ°è¾¾ä¸€å®šé‡çš„æ—¶å€™è¿™ç§ç»“æ„å°±ä¼šå¾ˆéš¾ä»¥ç»´æŠ¤ï¼Œè¿™æ—¶å€™å°±æœ‰äººä¼šè¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("mixin")]),t._v("æŠŠå…¬å…±é€»è¾‘æŠ½å–å‡ºæ¥ã€‚")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("scirpt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    components"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    mixins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("xxxMixin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    props"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// some reactive data")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    methods"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("scirpt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("p",[t._v("â€‹ ä½†æˆ‘æƒ³å¾ˆå¤šäººéƒ½ä¼šé‡åˆ°è¿‡è¿™ç§é—®é¢˜ï¼šåœ¨"),a("code",[t._v("<template>")]),t._v("æˆ–è€…"),a("code",[t._v("methods")]),t._v("é€‰é¡¹ä¸­æ‰¾æŸä¸ªæ–¹æ³•æˆ–è€…å˜é‡çš„æ—¶å€™æ‰¾éæ•´ä¸ª"),a("code",[t._v(".vue")]),t._v("æ–‡ä»¶éƒ½æ‰¾ä¸åˆ°ï¼Œç›´åˆ°çœ‹åˆ°"),a("code",[t._v("script")]),t._v("æ ‡ç­¾é‡Œé¢çœ‹åˆ°ä¸ª"),a("code",[t._v("mixins")]),t._v("é€‰é¡¹æ‰æç„¶å¤§æ‚Ÿï¼Œå“¦ï¼ŒåŸæ¥æ˜¯æ··å…¥è¿›æ¥çš„ï¼Œç„¶åå¦‚æœ"),a("code",[t._v("mixins")]),t._v("é‡Œé¢æœ‰å¤šä¸ª"),a("code",[t._v("mixin")]),t._v("åˆè¦å»æ¯ä¸ªæ–‡ä»¶é‡Œé¢å»æ‰¾åˆ°å¯¹åº”çš„å˜é‡")]),t._v(" "),a("p",[t._v("â€‹ é™¤äº†ä¸Šé¢çš„è¿™ç§æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å¾€è¿™ä¸ª"),a("code",[t._v(".vue")]),t._v("æ–‡ä»¶æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾ˆå¤§æ¦‚ç‡éœ€è¦è¿›è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤")]),t._v(" "),a("p",[t._v("â€‹ 1âƒ£ï¸ åœ¨"),a("code",[t._v("data")]),t._v("é€‰é¡¹ä¸­å®šä¹‰å¯¹åº”çš„å˜é‡ï¼Œè¿™æ ·æ‰å¯ä»¥ä½¿è¿™ä¸ªå˜é‡å˜ä¸ºå“åº”å¼çš„")]),t._v(" "),a("p",[t._v("â€‹ 2âƒ£ï¸ åœ¨"),a("code",[t._v("methods")]),t._v("é€‰é¡¹ä¸­æ–°å¢å¯¹åº”çš„å‡½æ•°æ–¹æ³•")]),t._v(" "),a("p",[t._v("â€‹ æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠæ–°åŠŸèƒ½æŠ½æˆ"),a("code",[t._v("mixin")]),t._v("ä½†æ˜¯è¿™æ ·æˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä¹‹å‰æ‰€è¯´çš„é—®é¢˜ï¼Œå½“ç„¶è¿™äº›é—®é¢˜æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•é¿å…ï¼Œä¾‹å¦‚å®šä¹‰çš„å˜é‡å‰ç¼€å¸¦ä¸€ä¸ª"),a("code",[t._v("Mixin_")]),t._v("ä¾‹å¦‚"),a("code",[t._v("Mixin_xxx")]),t._v("è¿™æ ·åœ¨ç”¨è¿™ä¸ªå˜é‡çš„æ—¶å€™æˆ‘ä»¬å°±ä¼šçŸ¥é“ï¼Œå“¦ï¼Œè¿™æ˜¯ä¸ª"),a("code",[t._v("mixin")]),t._v("ï¼Œè€Œä¸æ˜¯æ‰¾éæ‰€æœ‰æ–‡ä»¶ä¹‹åæ‰å‘ç°ä»–æ˜¯ä¸ª"),a("code",[t._v("mixin")])]),t._v(" "),a("p",[t._v("â€‹ ä¸‹é¢æˆ‘å°±ç”¨ä¸€å¼ ç»å…¸è€å›¾æ¥å±•ç¤ºå‡º"),a("code",[t._v("composition-api")]),t._v("ä»–çš„ä¼˜åŠ¿")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/62783026-810e6180-ba89-11e9-8774-e7771c8095d6.png",alt:"img"}})]),t._v(" "),a("p",[t._v("å¯èƒ½æœ‰äººçœ‹åˆ°è¿™å¼ å›¾çš„æ—¶å€™ä¼šå¾ˆå›°æƒ‘ï¼Œå°±ä¼šè¯´â€è¯¶å°ä¼™å­ï¼Œæˆ‘çœ‹ä½ è¿™ä¸¤ä¸ªå¯¹æ¯”ä¸‹æ¥ï¼Œä»£ç é‡ä¹Ÿæ²¡å¤šå¤§å˜åŒ–å•Šè¿˜æ˜¯è¿™ä¹ˆé•¿å•Šçœ‹ç€â€œã€‚")]),t._v(" "),a("p",[t._v("ä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥æ ¹æ®é¢œè‰²æŠŠå³è¾¹çš„ä»£ç çœ‹æˆè¿™æ ·")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ctx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›¸å¯¹äºmixinæ˜¯ä¸æ˜¯æ›´åŠ çš„æ¸…æ™°")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("login "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useLogin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" pageNum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pageSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" getList "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usePagination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XXX")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useXxx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸ºä»€ä¹ˆå¯ä»¥çœ‹æˆè¿™æ ·å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("è¿™æ—¶å€™å°±éœ€è¦å…ˆå¼•å…¥"),a("code",[t._v("ref")]),t._v("ä»¥åŠ"),a("code",[t._v("reactive")]),t._v("è¿™ä¸¤ä¸ªæ¦‚å¿µäº†")]),t._v(" "),a("h3",{attrs:{id:"refã€reactive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#refã€reactive"}},[t._v("#")]),t._v(" refã€reactive")]),t._v(" "),a("p",[t._v("åœ¨ options api ä¸­å¦‚æœæˆ‘ä»¬è¦è®©å˜é‡æ˜¯ reactive çš„ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå˜é‡éƒ½å®šä¹‰åœ¨"),a("code",[t._v("data()")]),t._v("ä¸­ï¼Œä½†æ˜¯åœ¨"),a("code",[t._v("setup()")]),t._v("ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),a("code",[t._v("ref")]),t._v("æˆ–è€…"),a("code",[t._v("reactive")]),t._v("åœ¨"),a("code",[t._v("setup")]),t._v("è¿™ä¸ªå‡½æ•°ä½“çš„ä»»æ„åœ°æ–¹ä½¿å¾—è¯¥å˜é‡è½¬æ¢æˆ reactive çš„å˜é‡")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬å¯ä»¥å…ˆåœ¨è¿™é‡Œå®šä¹‰ä¸€ä¸ªå˜é‡")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dataList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  dataList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‡è®¾æˆ‘ä»¬çš„ä»£ç å¾ˆé•¿ï¼Œç„¶åå¦‚æœæœ‰æŸäº›æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç´§æ¥ç€å†å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œè€Œä¸éœ€è¦å†å›åˆ°data()é‡Œé¢é‡æ–°å®šä¹‰ä¸€ä¸ªæ–°å˜é‡ä½¿å¾—è¿™ä¸ªå˜é‡reactive")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“ç„¶ï¼Œå¦‚æœä½ ä¹ æƒ¯äº†options apiæˆ–è€…è¯´ï¼Œä½ ä»¬å…¬å¸è‡ªå·±çš„è§„èŒƒå°±æ˜¯å¸Œæœ›å˜é‡éƒ½å®šä¹‰åœ¨åŒä¸€ä¸ªåŒºåŸŸå†…ã€‚é‚£ä¹ˆä½ ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    dataList"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç»†å¿ƒçš„æœ‹å‹å¯èƒ½å·²ç»å‘ç°ï¼Œ"),a("code",[t._v("ref")]),t._v("å’Œ"),a("code",[t._v("reactive")]),t._v("æˆ‘ä»¬å¯¹ä»–ä»¬ä¿©è¿›è¡Œæ•°æ®æ“ä½œçš„æ—¶å€™è¡¨ç°çš„æœ‰é‚£ä¹ˆç‚¹ä¸åŒï¼Œä¸ºä»€ä¹ˆ"),a("code",[t._v("ref")]),t._v("å®šä¹‰çš„å°±éœ€è¦ç”¨"),a("code",[t._v(".value")]),t._v("æ‰èƒ½å»è¿›è¡Œè®¿é—®å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±éœ€è¦çœ‹åˆ°"),a("a",{attrs:{href:"https://v3.vuejs.org/guide/composition-api-introduction.html#reactive-variables-with-ref",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1),t._v("ä¸­å¯¹äº"),a("code",[t._v("ref")]),t._v("ä»¥åŠ"),a("code",[t._v("reactive")]),t._v("çš„ä»‹ç»äº†")]),t._v(" "),a("p",[t._v("åœ¨"),a("code",[t._v("Vue3")]),t._v("ä¸­ä½ å¯ä»¥é€šè¿‡"),a("code",[t._v("ref")]),t._v("å‡½æ•°å°†ä»»æ„çš„å˜é‡å˜æˆ reactive çš„ï¼Œå°±åƒåœ¨"),a("code",[t._v("Vue2")]),t._v("çš„"),a("code",[t._v("data()")]),t._v("ä¸­å®šä¹‰ä¸€æ ·")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" counter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("code",[t._v("ref")]),t._v("æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…è£¹ç€ä¸€ä¸ªåä¸º"),a("code",[t._v("value")]),t._v("çš„å±æ€§ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ª"),a("code",[t._v("value")]),t._v("æ¥è®¿é—®è¿™ä¸ªå±æ€§æˆ–è€…æ›´æ”¹å®ƒäº†")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" counter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { value: 0 }")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0")]),t._v("\n\ncounter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n")])])]),a("p",[t._v("é‚£ä¹ˆä¸ºä»€ä¹ˆè¿™ä¸ª"),a("code",[t._v("ref")]),t._v("è¦åšçš„è¿™ä¹ˆå¤æ‚å‘¢ï¼Œè¿˜è¦æŠŠæ•°æ®åŒ…ä¸€å±‚ï¼Ÿä¸‹é¢è¿™å¼ å®˜ç½‘çš„ç»å…¸åŠ¨æ€å›¾ï¼Œç”ŸåŠ¨çš„è§£é‡Šäº†ä¸ºç¥é­”è¦è¿™ä¹ˆåš")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/pass-by-reference-vs-pass-by-value-animation-20210525102353835.gif",alt:"Pass by reference vs pass by value"}})]),t._v(" "),a("p",[t._v("è¿™æ˜¯ä¸ºäº†åœ¨"),a("code",[t._v("JavaScript")]),t._v("ä¸­ä¿æŒæ•°æ®ä¸åŒç±»å‹çš„è¡Œä¸ºä¸€è‡´æ€§ã€‚å› ä¸ºåœ¨"),a("code",[t._v("JavaScript")]),t._v("ä¸­ï¼ŒåŸºç¡€ç±»å‹åƒ"),a("code",[t._v("Number")]),t._v("ã€"),a("code",[t._v("String")]),t._v("æ˜¯é€šè¿‡å€¼ä¼ é€’çš„ï¼Œè€Œä¸æ˜¯å¼•ç”¨ä¼ é€’ã€‚")]),t._v(" "),a("p",[t._v("åœ¨æˆ‘ä»¬å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œä¸€å±‚åŒ…è£…åæŠŠå®ƒå˜ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨æ•´ä¸ª App é‡Œé¢å®‰å…¨çš„ä¼ é€’å®ƒè€Œä¸ç”¨æ‹…å¿ƒåœ¨ä¼ é€’çš„è¿‡ç¨‹ä¸­ï¼Œåœ¨æŸäº›åœ°æ–¹ä¸¢å¤±å®ƒçš„å“åº”æ€§äº†ã€‚")]),t._v(" "),a("p",[t._v("æ¢å¥è¯è¯´ï¼Œ"),a("code",[t._v("ref")]),t._v("å¯¹äºæˆ‘ä»¬çš„å˜é‡æ‰€åšçš„ï¼Œå°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå“åº”å¼çš„å¼•ç”¨ï¼Œåœ¨ä½¿ç”¨"),a("code",[t._v("composition-api")]),t._v("çš„è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ª"),a("code",[t._v("å¼•ç”¨")]),t._v("çš„æ¦‚å¿µå°†ä¼šç»å¸¸å‡ºç°ã€‚")]),t._v(" "),a("p",[t._v("è¿™æ—¶å€™å›åˆ°æˆ‘ä»¬ä¸Šé¢çš„ä»£ç ï¼Œ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›¸å¯¹äºmixinæ˜¯ä¸æ˜¯æ›´åŠ çš„æ¸…æ™°")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" login "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useLogin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" pageNum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pageSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" getList "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usePagination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XXX")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useXxx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å½“æˆ‘ä»¬æŠŠå…¬å…±ä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œå†è¿ç”¨è¿™äº›"),a("code",[t._v("'mixin'")]),t._v("çš„æ—¶å€™ï¼Œç›¸å¯¹äº"),a("code",[t._v("mixin")]),t._v("æ˜¯ä¸æ˜¯æ›´åŠ çš„æ¸…æ™°")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// usePagination.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usePagination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pageNum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pageSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" total "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getList")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// some logic...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    pageNum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    pageSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    getList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™é‡Œæˆ‘ä»¬å°±æ˜¯é çš„"),a("code",[t._v("ref")]),t._v("åˆ›å»ºçš„"),a("code",[t._v("å¼•ç”¨")]),t._v("æ¥è´¯ç©¿æˆ‘ä»¬çš„ç»„åˆå¼ APIã€‚")]),t._v(" "),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæƒ³è¦åœ¨"),a("code",[t._v("template")]),t._v("ä¸­ä½¿ç”¨å˜é‡å°±éœ€è¦æŠŠå®ƒä»¬"),a("code",[t._v("return")]),t._v("å‡ºå»ï¼Œè€Œä¸”ç”±"),a("code",[t._v("ref")]),t._v("åˆ›å»ºçš„å˜é‡ä¹Ÿä¸éœ€è¦ä½¿ç”¨"),a("code",[t._v(".value")]),t._v("æ¥è®¿é—®ï¼Œä¼šè‡ªåŠ¨ unwrap")]),t._v(" "),a("h3",{attrs:{id:"setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[t._v("#")]),t._v(" Setup()")]),t._v(" "),a("p",[t._v("åœ¨"),a("code",[t._v("setup")]),t._v("ä¸­æˆ‘ä»¬ä¼šæœ‰ä¸¤ä¸ªå‚æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œä¸€ä¸ªæ˜¯"),a("code",[t._v("props")]),t._v("ï¼Œå¦ä¸€ä¸ªæ˜¯"),a("code",[t._v("context")]),t._v("ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸¤ä¸ªå‚æ•°åˆ°åº•æ˜¯ä»€ä¹ˆ")]),t._v(" "),a("h4",{attrs:{id:"props"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#props"}},[t._v("#")]),t._v(" Props")]),t._v(" "),a("p",[a("code",[t._v("props")]),t._v("å…¶å®å°±æ˜¯æˆ‘ä»¬çˆ¶ç»„ä»¶åœ¨ä¼ é€’å€¼ç»™æˆ‘ä»¬å­ç»„ä»¶çš„æ—¶å€™çš„ prop å€¼ï¼Œåœ¨"),a("code",[t._v("setup")]),t._v("ä¸­æˆ‘ä»¬éœ€è¦é€šè¿‡è¿™ä¸ªå‚æ•°æ¥è°ƒç”¨å®ƒä»¬ï¼Œå› ä¸ºåœ¨"),a("code",[t._v("setup")]),t._v("ä¸­ï¼Œ"),a("code",[t._v("this")]),t._v("æ˜¯æ— æ³•ä½¿ç”¨çš„ï¼Œ"),a("code",[t._v("setup")]),t._v("ä¸­çš„"),a("code",[t._v("this")]),t._v("ä¸æ˜¯ç›´æ¥æŒ‡å‘"),a("code",[t._v("Vue")]),t._v("å®ä¾‹")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  props"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    searchTemplate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      required"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½ å¯ä»¥ç›´æ¥è¿™ä¹ˆè®¿é—®")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("searchTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å½“ä½ ç›´æ¥ä½¿ç”¨"),a("code",[t._v("props.xxx")]),t._v("è®¿é—®çš„æ—¶å€™ï¼Œè¿™ä¸ªæ˜¯å“åº”å¼çš„ï¼Œå½“çˆ¶ç»„ä»¶çš„æ•°æ®å˜åŒ–æ—¶ï¼Œè¿™é‡Œä¹Ÿä¼šè·Ÿç€å˜åŒ–ï¼Œä½†æ˜¯å½“ä½ æƒ³ä½¿ç”¨"),a("code",[t._v("ES6")]),t._v("çš„è§£æ„çš„æ—¶å€™ï¼Œè¿™ä¸ªå±æ€§å°±ä¼šå¤±å»å“åº”æ€§äº†ï¼Œå¦‚æœä½ æƒ³è§£æ„çš„æ–¹å¼å»ä½¿ç”¨ props é‡Œé¢ä¼ è¿‡æ¥çš„å€¼ï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨"),a("code",[t._v("toRefs")]),t._v("éœ€è¦æ³¨æ„çš„æ˜¯é€šè¿‡==.value==æ¥è¿›è¡Œè®¿é—®")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  props"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    searchTemplate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      required"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½ å¯ä»¥ç›´æ¥è¿™ä¹ˆè®¿é—®")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("searchTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// âŒ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" searchTemplate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// âœ…")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" searchTemplate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toRefs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("searchTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å½“ä½ è¿™ä¸ª prop ä¸æ˜¯"),a("code",[t._v("required")]),t._v("çš„æ—¶å€™ï¼Œå®ƒæ˜¯ä¸ç¡®å®šçš„ï¼Œé‚£ä¹ˆä½ ç”¨"),a("code",[t._v("toRefs")]),t._v("å¯èƒ½è·å–ä¸åˆ°ï¼Œé‚£ä¹ˆä»–å°±ä¸ä¼šåˆ›å»ºä¸€ä¸ª"),a("code",[t._v("ref")]),t._v("ï¼Œè¿™ä¸ªæ—¶å€™ä½ è¦ä½¿ç”¨"),a("code",[t._v("toRef")]),t._v("äº†")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  props"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    searchTemplate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      required"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    total"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" total "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"total"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#context"}},[t._v("#")]),t._v(" Context")]),t._v(" "),a("p",[a("code",[t._v("setup")]),t._v("ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯"),a("code",[t._v("context")]),t._v("ï¼Œåœ¨"),a("code",[t._v("Vue3")]),t._v("çš„å®˜æ–¹æ–‡æ¡£ä¸­çš„ä»‹ç»æ˜¯ä¸€ä¸ªæ™®é€šçš„"),a("code",[t._v("JavaScript")]),t._v("å¯¹è±¡ï¼Œä¼šæš´éœ²å‡ºä¸‰ä¸ªç»„ä»¶å±æ€§ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯"),a("code",[t._v("attrs")]),t._v("ã€"),a("code",[t._v("slots")]),t._v("ã€"),a("code",[t._v("emit")]),t._v("ï¼Œä½†æ˜¯å…¶å®åœ¨"),a("code",[t._v("Vue2")]),t._v("ä¸­ä½¿ç”¨"),a("code",[t._v("setup")]),t._v("çš„è¯ï¼Œè¿™ä¸ª"),a("code",[t._v("context")]),t._v("å¯¹è±¡é‡Œé¢ï¼Œä¸ä»…ä»…åªæœ‰è¿™ä¸‰ä¸ªå±æ€§ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/image-20210527095433991.png",alt:"image-20210527095433991"}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é™¤äº†ä¸Šé¢ä»‹ç»çš„ä¸‰ä¸ªå±æ€§ä»¥å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç”»äº†åˆ é™¤çº¿çš„å±æ€§ï¼Œ"),a("s",[t._v("parent")]),t._v("ã€"),a("s",[t._v("root")]),t._v("ã€"),a("s",[t._v("listeners")]),t._v("ã€"),a("s",[t._v("refs")]),t._v("å½“æˆ‘ä»¬é¼ æ ‡ç§»ä¸Šå»çš„æ—¶å€™å°±ä¼šçœ‹åˆ°æç¤ºï¼Œè¯´è¿™æ˜¯ä¸€ä¸ªåºŸå¼ƒå±æ€§ï¼Œè¿™ä¸ªå±æ€§åœ¨"),a("code",[t._v("Vue3")]),t._v("æ˜¯ç”¨ä¸äº†çš„ï¼Œå½“ç„¶ï¼Œå¦‚æœä½ è¦ç”¨å®ƒä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œé™¤éä½ è¿™ä¸ªé¡¹ç›®ä»¥åä¸æƒ³å‡çº§åˆ°"),a("code",[t._v("Vue3")]),t._v("ï¼Œå¦åˆ™æˆ‘çš„å»ºè®®æ˜¯éµå¾ªå®˜æ–¹çš„åšæ³•ï¼Œä¸è¦ä½¿ç”¨è¿™äº›å·²ç»è¢«åºŸå¼ƒäº†çš„å±æ€§ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/image-20210527095736698.png",alt:"image-20210527095736698"}})]),t._v(" "),a("p",[t._v("ä¸Šé¢è¿™ä¸‰ä¸ªå±æ€§ä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨è§£æ„æ¥è·å–å®ƒä»¬ï¼Œæ¯•ç«Ÿ"),a("code",[t._v("context")]),t._v("åªæ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" attrs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" slots"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" emit "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("åœ¨"),a("code",[t._v("setup")]),t._v("è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œç»„ä»¶å®ä¾‹æ˜¯è¿˜æ²¡è¢«åˆ›å»ºçš„ï¼Œ"),a("code",[t._v("setup")]),t._v("æ˜¯ä»‹äº"),a("code",[t._v("beforeCreate")]),t._v("å’Œ"),a("code",[t._v("created")]),t._v("ä¹‹é—´çš„ï¼Œæ¢å¥è¯è¯´ä½ åªèƒ½åœ¨"),a("code",[t._v("setup")]),t._v("ä¸­è®¿é—®ä»¥ä¸‹å±æ€§")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("props")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("attrs")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("slots")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("emit")])])])]),t._v(" "),a("p",[t._v("æ¢å¥è¯è¯´ï¼Œä½ ä¸èƒ½å¤Ÿè®¿é—®"),a("code",[t._v("data")]),t._v("ã€"),a("code",[t._v("computed")]),t._v("ã€"),a("code",[t._v("methods")]),t._v(",è€Œä¸”"),a("code",[t._v("setup")]),t._v("é‡Œé¢æ²¡æœ‰"),a("code",[t._v("this")]),t._v("ï¼Œä½ æƒ³è®¿é—®ä¹Ÿè®¿é—®ä¸åˆ°ï½ï½")]),t._v(" "),a("h4",{attrs:{id:"this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this"}},[t._v("#")]),t._v(" this")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆå¯èƒ½å°±ä¼šæœ‰äººé—®åˆ°ï¼Œè¯¶é‚£æ—¢ç„¶åœ¨"),a("code",[t._v("setup")]),t._v("ä¸­éƒ½æ‹¿ä¸åˆ°"),a("code",[t._v("this")]),t._v("é‚£æˆ‘ç»‘å®šåœ¨"),a("code",[t._v("prototype")]),t._v("ä¸Šçš„æ–¹æ³•è¦æ€ä¹ˆè°ƒç”¨å•Šï¼Œä¸æ…Œï¼Œæˆ‘ä»¬æ¥ç¿»é˜…ä¸€ä¸‹"),a("a",{attrs:{href:"https://v3.vuejs.org/api/application-config.html#globalproperties",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1),t._v("å‘ç°äº†è¿™ä¹ˆä¸ªä¸œä¸œ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/image-20210527102130075.png",alt:"image-20210527102130075"}})]),t._v(" "),a("p",[t._v("åœ¨"),a("code",[t._v("Vue3")]),t._v("ä¸­å·²ç»æ˜¯ä¸æ¨èæˆ‘ä»¬å°†æ–¹æ³•ç›´æ¥ç»‘å®šåœ¨"),a("code",[t._v("prototype")]),t._v("ä¸Šé¢äº†ï¼Œè€Œæ˜¯æ¢äº†ä¸ª apiï¼Œçœ‹åˆ°è¿™ â¤ï¸ éƒ½å‡‰äº†åŠæˆªï¼Œé‚£ç»„åˆå¼ API å²‚ä¸æ˜¯ä¸æˆ‘æ— ç¼˜äº†ï¼Œåˆ«æ…Œï¼Œæˆ‘ä»¬è¿˜æœ‰å¦ä¸€ä¸ª"),a("a",{attrs:{href:"https://v3.vuejs.org/api/composition-api.html#getcurrentinstance",target:"_blank",rel:"noopener noreferrer"}},[t._v("getCurrentInstance"),a("OutboundLink")],1),t._v("ï¼Œè¿™ä¸ª API å¯ä»¥è®©æˆ‘ä»¬è®¿é—®åˆ°å†…éƒ¨çš„ç»„ä»¶å®ä¾‹ï¼Œè®©æˆ‘ä»¬"),a("code",[t._v("console.log")]),t._v("ğŸ‘€ ä¸€ä¸‹é‡Œé¢éƒ½æœ‰å•¥")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/image-20210527104912561.png",alt:"image-20210527104912561"}})]),t._v(" "),a("p",[t._v("åš¯ï¼Œå¥½å®¶ä¼™ï¼Œä¸œè¥¿å¯çœŸä¸å°‘å•Šï¼Œæˆ‘ä»¬ç‚¹è¿›è¿™ä¸ª"),a("code",[t._v("proxy")]),t._v("çœ‹çœ‹")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/image-20210527105235814.png",alt:"image-20210527105235814"}})]),t._v(" "),a("p",[t._v("ä¹‹å‰"),a("code",[t._v("context")]),t._v("é‡Œé¢çš„å„ä¸ªå±æ€§ï¼Œéƒ½å‡ºç°åœ¨äº†è¿™ä¸ª"),a("code",[t._v("proxy")]),t._v("é‡Œé¢ï¼Œä¸ç®¡æ˜¯åºŸå¼ƒçš„è¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œå¯èƒ½æœ‰çš„åŒå­¦ä¼šé—®ï¼Œä½†æ˜¯æˆ‘å¹¶æ²¡æœ‰çœ‹åˆ°é‚£äº›"),a("code",[t._v("element")]),t._v("ç›¸å…³çš„æ–¹æ³•å•Šï¼Œä»€ä¹ˆ"),a("code",[t._v("$message")]),t._v("ã€"),a("code",[t._v("$confirm")]),t._v("ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒåŸå‹é“¾æ˜¯ä¸€çº§ä¸€çº§å¾€ä¸Šæ‰¾çš„ï¼Œè¿™é‡Œæ²¡æ‰¾åˆ°ï¼Œæˆ‘ä»¬å¾€å®ƒçš„çˆ¶çº§åœ¨çœ‹çœ‹")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/image-20210527105914780.png",alt:"image-20210527105914780"}})]),t._v(" "),a("p",[t._v("ä¸ä½†çœ‹åˆ°"),a("code",[t._v("element")]),t._v("çš„æ–¹æ³•ï¼Œè¿˜çœ‹åˆ°äº†"),a("code",[t._v("Vue")]),t._v("è‡ªå·±çš„ä¸€äº› api æ–¹æ³•ï¼Œé‚£å…·ä½“æˆ‘ä»¬å¯ä»¥å¦‚ä½•ä½¿ç”¨è¿™ä¸ª"),a("code",[t._v("proxy")]),t._v("å‘¢")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ComponentInternalInstance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  defineComponent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  getCurrentInstance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vue/composition-api"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠå®ƒè§£æ„å‡ºæ¥ï¼Œä½†æ˜¯è¿™æ ·çš„è¯ï¼Œåœ¨"),a("code",[t._v("TypeScript")]),t._v("ä¸­ä¼šæœ‰ä¸€ä¸ªæŠ¥é”™")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/image-20210527110244131.png",alt:"image-20210527110244131"}})]),t._v(" "),a("p",[t._v("æˆ‘çš„åŠæ³•æ˜¯ç”¨ç±»å‹æ–­è¨€ "),a("code",[t._v("const { proxy } = getCurrentInstance() as ComponentInternalInstance")]),t._v("ï¼Œæœ‰çš„äººå¯èƒ½ä¼šè¯´é‚£æˆ‘"),a("code",[t._v("proxy.$message")]),t._v("ã€"),a("code",[t._v("proxy.$router.push")]),t._v("è¿™æ ·å†™å¤šä¸‘é™‹å•Šï¼Œæˆ‘è¿˜æ˜¯ä¹ æƒ¯ç”¨"),a("code",[t._v("this")]),t._v("ã€‚"),a("s",[t._v("é‚£æˆ‘æ¨èä½ ç›´æ¥ç”¨å›ä½ çš„ options api å§")]),t._v("ï¼Œä½ å¯ä»¥å¯¹è¿™ä¸ª"),a("code",[t._v("proxy")]),t._v("é‡å‘½åï¼Œä¾‹å¦‚"),a("code",[t._v("const { proxy:_this } = getCurrentInstance() as ComponentInternalInstance")]),t._v("è¿™æ ·ï¼Œçœ‹ç€å’ŒåŸæ¥ä¹Ÿæ²¡å¤šå¤§åŒºåˆ«æ˜¯ä¸æ˜¯ï¼Ÿ")]),t._v(" "),a("h3",{attrs:{id:"lifecycle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lifecycle"}},[t._v("#")]),t._v(" LifeCycle")]),t._v(" "),a("p",[t._v("åœ¨"),a("code",[t._v("setup")]),t._v("ä¸­çš„ç”Ÿå‘½å‘¨æœŸä¸ä¼ ç»Ÿçš„"),a("code",[t._v("options api")]),t._v("æœ‰é‚£ä¹ˆç‚¹ä¸ä¸€æ ·ï¼Œ"),a("code",[t._v("setup")]),t._v("ä¸­æ˜¯æ²¡æœ‰"),a("code",[t._v("created")]),t._v("å’Œ"),a("code",[t._v("beforeCreate")]),t._v("çš„ï¼Œåœ¨"),a("code",[t._v("setup")]),t._v("ä¸­ä½ ç›´æ¥æ‰“å°ä¸€æ®µè¯åœ¨æ§åˆ¶å°ä½ ä¼šå‘ç°ï¼Œsetup æ˜¯åœ¨å®ƒä»¬ä¿©ä¹‹é—´æ‰§è¡Œçš„")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gitee.com/SKADaddy/pic/raw/master/image-20210527111252662.png",alt:"image-20210527111252662"}})]),t._v(" "),a("p",[t._v("è€Œå¯¹äºå…¶ä»–ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°ï¼Œ"),a("code",[t._v("vue")]),t._v("ä¹Ÿå¯¹å®ƒä»¬è¿›è¡Œäº†æ”¹åï¼Œæ›´åŠ çš„è¯­ä¹‰åŒ–äº†")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Options API")]),t._v(" "),a("th",[t._v("Hook inside "),a("code",[t._v("setup")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("beforeCreate")])]),t._v(" "),a("td",[t._v("Not needed*")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("created")])]),t._v(" "),a("td",[t._v("Not needed*")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("beforeMount")])]),t._v(" "),a("td",[a("code",[t._v("onBeforeMount")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("mounted")])]),t._v(" "),a("td",[a("code",[t._v("onMounted")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("beforeUpdate")])]),t._v(" "),a("td",[a("code",[t._v("onBeforeUpdate")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("updated")])]),t._v(" "),a("td",[a("code",[t._v("onUpdated")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("beforeUnmount")])]),t._v(" "),a("td",[a("code",[t._v("onBeforeUnmount")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("unmounted")])]),t._v(" "),a("td",[a("code",[t._v("onUnmounted")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("errorCaptured")])]),t._v(" "),a("td",[a("code",[t._v("onErrorCaptured")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("renderTracked")])]),t._v(" "),a("td",[a("code",[t._v("onRenderTracked")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("renderTriggered")])]),t._v(" "),a("td",[a("code",[t._v("onRenderTriggered")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("activated")])]),t._v(" "),a("td",[a("code",[t._v("onActivated")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("deactivated")])]),t._v(" "),a("td",[a("code",[t._v("onDeactivated")])])])])]),t._v(" "),a("h3",{attrs:{id:"ä¸€äº›è¸©åˆ°çš„å‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€äº›è¸©åˆ°çš„å‘"}},[t._v("#")]),t._v(" ä¸€äº›è¸©åˆ°çš„å‘")]),t._v(" "),a("p",[t._v("1ã€ä¸€å¼€å§‹ç”¨è¿½æ±‚æ–¹ä¾¿ç”¨"),a("code",[t._v("context.root")]),t._v("è°ƒç”¨"),a("code",[t._v("$emit")]),t._v("æ–¹æ³•çš„æ—¶å€™ï¼Œè™½ç„¶ vetur æœ‰æç¤ºå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å®é™…æ ¹æœ¬å°±ä¸ä¼šè§¦å‘"),a("code",[t._v("$emit")])]),t._v(" "),a("p",[t._v("2ã€"),a("code",[t._v("getCurrentInstance")]),t._v("è§£æ„å‡ºæ¥çš„å€¼ä¸è¦åœ¨"),a("code",[t._v("return")]),t._v("é‡Œé¢è¿”å›ï¼Œå¦åˆ™ä¼šå‡ºé”™ï¼Œè¯¦æƒ…å¯ä»¥çœ‹çœ‹è¿™ä¸ª"),a("a",{attrs:{href:"https://github.com/vuejs/composition-api/issues/693",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("3ã€å› ä¸º"),a("code",[t._v("Vue2")]),t._v("å’Œ"),a("code",[t._v("Vue3")]),t._v("å®ç°å“åº”å¼çš„æ–¹å¼æœ‰ç‚¹ä¸åŒï¼Œæ‰€ä»¥"),a("code",[t._v("reactive")]),t._v("å®šä¹‰å‡ºæ¥çš„å˜é‡ä¼šæœ‰é‚£ä¹ˆç‚¹ä¸ä¸€æ ·ï¼Œå¦‚æœç›´æ¥ä¿®æ”¹åï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡å¾ˆæœ‰å¯èƒ½å°±ä¸æ˜¯å“åº”å¼çš„äº†,æœ€å¥½è¿˜æ˜¯ä½¿ç”¨"),a("code",[t._v("ref")]),t._v("æ¥ï¼Œè¯¦æƒ…å¯ä»¥çœ‹ä¸‹è¿™ä¸ª"),a("a",{attrs:{href:"https://github.com/vuejs/composition-api/issues/705",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"reactive-1-2-3-vs-ref"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactive-1-2-3-vs-ref"}},[t._v("#")]),t._v(" reactive([1,2,3]) VS ref([])")]),t._v(" "),a("p",[t._v("è¿™ä¸ª"),a("a",{attrs:{href:"https://github.com/vuejs/docs-next/issues/801#issuecomment-757587022",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),a("OutboundLink")],1),t._v("è¯´çš„æŒºæ¸…æ™°çš„")]),t._v(" "),a("h2",{attrs:{id:"æœ€å"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å"}},[t._v("#")]),t._v(" æœ€å")]),t._v(" "),a("p",[t._v("åªèƒ½è¯´éå¸¸æœŸå¾… Vue conf æ‰€è¯´çš„ Q3 ä¼šå‘å¸ƒçš„ 2.7 ç‰ˆæœ¬äº†ï¼Œåœ¨ 2.6 ä½¿ç”¨ç»„åˆå¼ API æ€»çš„æ¥è¯´é—®é¢˜ä¸å¤§ï¼Œè€Œä¸”æ¯”"),a("code",[t._v("mixin")]),t._v("ç”¨èµ·æ¥æ›´çˆ½ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);